import{r as t,j as e}from"./vendor-react-oR90xLXg.js";import{s as A,D as w}from"./index-B33dahPg.js";import{M as S,e as g,X as I,U as C,d as T,L as k,f as D}from"./vendor-lucide-D-pqvdSp.js";import"./vendor-CKWnX092.js";const V=()=>{const[r,x]=t.useState(!1),[y,p]=t.useState(!0),[o,u]=t.useState(""),[l,h]=t.useState(!1),[i,c]=t.useState([{id:"welcome",role:"assistant",content:"Hello! I'm Venu's AI Assistant. I can tell you about his work at Google, Radius AI, or his new venture ZoFit.ai.",timestamp:new Date}]),j={endpointUrl:w.endpointUrl,accessToken:w.accessToken,useCustomPayload:!1},b=t.useRef(null),v=()=>{requestAnimationFrame(()=>{var s;(s=b.current)==null||s.scrollIntoView({behavior:"smooth"})})};t.useEffect(()=>{v()},[i,r]),t.useEffect(()=>{const s=setTimeout(()=>{p(!1)},1e4);return()=>clearTimeout(s)},[]);const N=async s=>{if(s.preventDefault(),!o.trim()||l)return;const f={id:Date.now().toString(),role:"user",content:o,timestamp:new Date};c(a=>[...a,f]),u(""),h(!0);try{const a=i.slice(-6).map(n=>`${n.role==="user"?"Visitor":"Assistant"}: ${n.content}`).join(`
`),d=await A(f.content,a,j),m={id:(Date.now()+1).toString(),role:"assistant",content:d,timestamp:new Date};c(n=>[...n,m])}catch(a){const d={id:(Date.now()+1).toString(),role:"system",content:`Error: ${a.message||"Connection failed"}`,timestamp:new Date};c(m=>[...m,d])}finally{h(!1)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`fixed bottom-24 right-6 z-50 bg-white px-4 py-3 rounded-xl shadow-xl border border-slate-200 transition-all duration-500 transform origin-bottom-right ${y&&!r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-4 pointer-events-none"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"relative flex h-2.5 w-2.5 shrink-0",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-primary-600"})]}),e.jsx("p",{className:"text-sm font-semibold text-slate-800 whitespace-nowrap",children:"Have questions?"})]}),e.jsx("div",{className:"absolute -bottom-1.5 right-6 w-3 h-3 bg-white border-b border-r border-slate-200 transform rotate-45"})]}),e.jsxs("button",{onClick:()=>{x(!0),p(!1)},className:`fixed bottom-6 right-6 z-50 bg-primary-700 hover:bg-primary-600 text-white rounded-full shadow-lg shadow-primary-900/20 transition-all duration-300 group flex items-center gap-0 hover:gap-3 p-4 hover:pr-6 overflow-hidden max-w-[56px] hover:max-w-[240px] ${r?"scale-0 opacity-0 pointer-events-none":"scale-100 opacity-100"}`,"aria-label":"Open chat assistant",children:[e.jsx(S,{className:"w-6 h-6 shrink-0"}),e.jsx("span",{className:"whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-300 font-bold text-sm",children:"Chat with Virtual Venu"})]}),e.jsxs("div",{className:`fixed bottom-6 right-6 z-50 w-[90vw] md:w-[400px] h-[550px] bg-white border border-slate-200 rounded-2xl shadow-2xl flex flex-col overflow-hidden transition-all duration-300 origin-bottom-right ${r?"scale-100 opacity-100":"scale-0 opacity-0 pointer-events-none"}`,children:[e.jsxs("div",{className:"bg-primary-700 p-4 flex items-center justify-between shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-sm",children:"Venu's AI Agent"}),e.jsxs("span",{className:"flex items-center text-[10px] text-primary-100",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 mr-1 animate-pulse"}),"Online"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{onClick:()=>x(!1),"aria-label":"Close chat assistant",className:"text-primary-200 hover:text-white transition-colors p-1",children:e.jsx(I,{className:"w-5 h-5"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 scrollbar-thin",children:[i.map(s=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex max-w-[85%] ${s.role==="user"?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center shrink-0 mb-1 ${s.role==="user"?"bg-primary-600":s.role==="system"?"bg-red-100":"bg-white border border-slate-200"}`,children:s.role==="user"?e.jsx(C,{className:"w-3 h-3 text-white"}):s.role==="system"?e.jsx(T,{className:"w-3 h-3 text-red-600"}):e.jsx(g,{className:"w-3 h-3 text-primary-600"})}),e.jsx("div",{className:`p-3 rounded-2xl text-sm shadow-sm ${s.role==="user"?"bg-primary-600 text-white rounded-br-none":s.role==="system"?"bg-red-50 text-red-600 border border-red-100 rounded-bl-none":"bg-white text-slate-700 rounded-bl-none border border-slate-100"}`,children:s.content})]})},s.id)),l&&e.jsx("div",{className:"flex justify-start pl-8",children:e.jsxs("div",{className:"bg-white p-3 rounded-2xl rounded-bl-none border border-slate-100 shadow-sm flex items-center space-x-2",children:[e.jsx(k,{className:"w-4 h-4 animate-spin text-primary-600"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Processing..."})]})}),e.jsx("div",{ref:b})]}),e.jsx("form",{onSubmit:N,className:"p-4 bg-white border-t border-slate-100",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:o,onChange:s=>u(s.target.value),placeholder:"Ask about product strategy...","aria-label":"Ask Venu's AI Agent a question",className:"w-full bg-slate-50 text-slate-900 border border-slate-200 rounded-full pl-4 pr-12 py-3 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500 transition-all placeholder:text-slate-500 text-sm shadow-inner"}),e.jsx("button",{type:"submit",disabled:l||!o.trim(),"aria-label":"Send message to AI Agent",className:"absolute right-2 top-2 p-1.5 bg-primary-600 text-white rounded-full hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm",children:e.jsx(D,{className:"w-4 h-4"})})]})})]})]})};export{V as default};
